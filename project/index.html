<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <title>Calculadora de Investimentos</title>
</head>
<body>
    <div class="container-1">
        <form for="basic-url" id="form_calc">
            <div class="label-1">
                <label for="basic-url">Investimento inicial</label>
                <input type="number" id="investimento_inicial">
            </div>
            <div class="label-2">
                <label for="basic-url">Investimento mensal</label>
                <input type="number" id="investimento_mensal">
            </div>
            <div class="label-3">
                <label for="basic-url">Quanto tempo?</label>
                <input type="number" id="meses" placeholder="Meses">
            </div>
            <div class="label-4">
                <label for="basic-url">Juros ao mÃªs</label>
                <input type="number" id="taxa_de_juros">
            </div>
            <div>
                <button class="btn-1" type="click" value="calcular" onclick="return calcular_juros_compostos()"></button>
            </div>
        </form>

        <div class="container-2">
            <div class="card">
                <h4>Investimento inicial</h4>
                <p id="inicial"></p>
            </div>
            <div class="card-1">
                <h4>Investimento mensal</h4>
                <p id="mensal"></p>
            </div>
            <div class="card-2">
                <h4>Tempo do investimento</h4>
                <p id="duracao"></p>
            </div>
            <div class="card-3">
                <h4>Total investido</h4>
                <p id="tt_investimento"></p>
            </div>
            <div class="card-4">
                <h4>Total</h4>
                <p id="juros_recebidos"></p>
            </div>
            <div class="card-5">
                <h4>Lucro</h4>
                <p id="a_receber"></p>
            </div>
        </div>
    </div>
    <script type="text/javascript" defer>
        function calcular_juros_compostos(){
        let investimento_inicial = parseFloat(document.getElementById("investimento_inicial").value)
        let investimento_mensal = parseFloat(document.getElementById("investimento_mensal").value)
        let meses = parseInt(document.getElementById("meses").value)
        let taxa_de_juros = parseFloat(document.getElementById("taxa_de_juros").value)
        
        let investimento_acumulado = investimento_inicial

        let total_investimento_acumulado = investimento_inicial + (investimento_mensal * meses)   
        
        let juros_compostos = 0
        let juros_compostos_total = 0

        for (let i = 0; i < meses; i++) {
            juros_compostos = (investimento_acumulado + taxa_de_juros) / 100;
            juros_compostos_total += juros_compostos;
            investimento_acumulado += juros_compostos + investimento_mensal;
        }

        let valor_a_receber = total_investimento_acumulado + juros_compostos_total
        
        
        let inicial = document.getElementById("inicial")
        inicial.innerHTML = investimento_inicial
        document.getElementById("mensal").innerHTML = investimento_mensal
        document.getElementById("duracao").innerHTML = meses
        document.getElementById("tt_investimento").innerHTML = Number(total_investimento_acumulado).toFixed(2)
        document.getElementById("juros_recebidos").innerHTML = Number(juros_compostos_total).toFixed(2)
        document.getElementById("a_receber").innerHTML = Number(valor_a_receber).toFixed(2)

        document.getElementById('formCalc').reset()
        return false
        }
        </script>
</body>
</html>